{"version":3,"sources":["rexes/base.ts"],"names":[],"mappings":";AACA,iBAAuB,KAAK,CAAC,CAAA;AAC7B,uBAAqB,WAAW,CAAC,CAAA;AAYjC;IAAA;QACS,cAAS,GAAa,KAAK,CAAC;QAEpC,SAAI,GAAG,EAAS,CAAC;QACjB,YAAO,GAAG,EAAS,CAAC;QACpB,YAAO,GAAoB,IAAI,WAAQ,CAAO,WAAW,CAAC,CAAC;QAC3D,YAAO,GAAuB,IAAI,WAAQ,CAAU,WAAW,CAAC,CAAC;IAkBlE,CAAC;IAhBA,sBAAI,yBAAQ;aAAZ;YACC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACvB,CAAC;;;OAAA;IAED,mBAAK,GAAL;QACC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC7B,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IACvB,CAAC;IAES,+BAAiB,GAA3B;QACC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACpB,MAAM,eAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC;QAC3C,CAAC;IACF,CAAC;IACF,UAAC;AAAD,CAxBA,AAwBC,IAAA;AAxBqB,WAAG,MAwBxB,CAAA","file":"rexes/base.js","sourcesContent":["\r\nimport {RexEvent} from \"../\";\r\nimport {Errors} from '../errors';\r\n/**\r\n * Created by Greg on 01/10/2016.\r\n */\r\n\r\nexport interface IRexInfo {\r\n\ttype : string;\r\n\tlazy : boolean;\r\n\tfunctional : boolean;\r\n}\r\n\r\n\r\nexport abstract class Rex<TChange> {\r\n\tprivate _isClosed : boolean = false;\r\n\tabstract info : IRexInfo;\r\n\tmeta = {} as any;\r\n\tdepends = {} as any;\r\n\tclosing : RexEvent<void> = new RexEvent<void>(\"onClosing\");\r\n\tchanged : RexEvent<TChange> = new RexEvent<TChange>(\"onChanged\");\r\n\r\n\tget isClosed() {\r\n\t\treturn this._isClosed;\r\n\t}\r\n\r\n\tclose() {\r\n\t\tthis.changed.clear();\r\n\t\tthis.closing.fire(undefined);\r\n\t\tthis.closing.clear();\r\n\t\tthis._isClosed = true;\r\n\t}\r\n\r\n\tprotected makeSureNotClosed() : void {\r\n\t\tif (this._isClosed) {\r\n\t\t\tthrow Errors.closed(this.meta.name || \"\");\r\n\t\t}\r\n\t}\r\n}"],"sourceRoot":"/src"}